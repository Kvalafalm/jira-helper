"use strict";

var curryN = require('../function/curryN');

/**
 * Returns a promise that rejects with a value returned
 * by the supplied function when passed the supplied payload
 *
 * @param {Function} func
 * @param {*[]} payload
 * @returns {Promise}
 * @example
 *      rejectWith(toLowerCase, 'Error').catch( err => console.error(err) );// => 'error'
 */
module.exports = curryN(2, function (func) {
  for (var _len = arguments.length, payload = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    payload[_key - 1] = arguments[_key];
  }

  return Promise.reject(func.apply(void 0, payload));
});