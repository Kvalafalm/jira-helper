"use strict";

var curryN = require('../function/curryN');

var indexOf = require('./indexOf');

/**
 * Combines two array into a set (i.e. no duplicates) composed of those
 * elements common to both arrays.
 *
 * @param {Array} a The first array.
 * @param {Array} b The second array.
 * @return {Array} The array of elements found in both `a` and `b`.
 * @example
 *
 *      intersection([1,2,3,4], [7,6,5,4,3]); //=> [4, 3]
 */
module.exports = curryN(2, function (a, b) {
  if (a === void 0) {
    a = [];
  }

  if (b === void 0) {
    b = [];
  }

  var result = [];

  for (var i = 0; i < a.length; i++) {
    if (indexOf(a[i], b) >= 0) {
      result.push(a[i]);
    }
  }

  return result;
});