/**
 * Transforms request url using passed function.
 *
 * @param baseUrl {string}
 * @param transform {Function}
 */
var url = ({ baseUrl = '', transform = ({ baseUrl, url }) => `${baseUrl}${url}` } = {}) => {
    return {
        init: (context, next) => {
            const request = context.getRequest();
            next({
                request: {
                    ...request,
                    url: transform({ ...request, baseUrl: request.baseUrl || baseUrl }),
                },
            });
        },
    };
};

export { url as default };
